<div class="page predictions" ng-controller="PredictionsController">
  <div class="panel panel-default" ng-show="!hasGames">
      <div class="panel-heading"><strong><span class="flaticon-football7"></span> Mis Pronosticos</strong></div>
    <div class="panel-body">
      <div class="callout callout-success">
        <h4> No estas jugando ningun Torneo </h4>  
        <p>Crea un <a href="#/torneos/nuevo">nuevo Torneo</a> e invita a tus amigos</p>
      </div>
    </div>
  </div>

    <div class="row" ng-show="hasGames">
        <div class="col-sm-3" ng-show="games.length > 1">
            <section class="panel panel-default mail-categories">
                <div class="panel-heading"><strong><span class="flaticon-trophy33"></span> <span data-i18n="Torneos"></span></strong></div>
                <ul class="list-group">
                    <li ng-repeat="game in games" class="list-group-item" ng-class='{active: selectedGame == game}'>
                        <a href="javascript:;" ng-click="selectGame(game)">
                          {{ game.name }}
                        </a>
                    </li>
                </ul>
            </section>

        </div>
        <div class="col-sm-9" ng-class="{'col-sm-12': games.length == 1, 'col-sm-9': games.length > 1 }">
            <section class="panel panel-default mail-container ">
                <div class="panel-heading"><strong><span class="flaticon-football7"></span> Partidos</strong></div>
                <div ng-class="{'panel-body': games.length == 1, 'loading' : loading, 'one-game': games.length == 1 }" class="fixture-container">

                <div class="loading" ng-show="loading"> Cargando 
                      <div id="circleG">
                        <div id="circleG_1" class="circleG">
                        </div>
                        <div id="circleG_2" class="circleG">
                        </div>
                        <div id="circleG_3" class="circleG">
                        </div>
                      </div>
                </div>
                <div class="callout callout-info" ng-show="games.length == 1">
                  <h4> {{ selectedGame.name }} </h4>  
                  <p>{{ selectedGame.tournament_name }} </p>
                </div>
                <div class="fixture-header">
                  <div class="fixtureNumber">
                      Fecha: {{ currentFixture.number  }}
                  </div>
                  <div class="menu">
                    <div class="pull-right">
                      <button class="btn btn-w-md btn-gap-v btn-primary" type="button" ng-disabled="currentFixture.number == 1" ng-click="previousFixture()"><i class="fa fa-long-arrow-left"></i></button>
                      <button class="btn btn-w-md btn-gap-v btn-primary" type="button" ng-disabled="currentFixture.number == lastFixtureNumber" ng-click="nextFixture()" ng-disabled=""><i class="fa fa-long-arrow-right"></i></button>
                    </div>
                  </div>
                </div>
                <div class="fixture-status" ng-show="currentFixture.is_finished">
                  <span class="fixture-terminado">Fecha Terminada</span>
                </div>
                <table class="table table-hover" style="font-size:15px;" ng-class="{'fixture-finished': currentFixture.is_finished }">
                    <thead>
                      <tr>
                        <th style="text-align:right"> Equipo Local </th>
                        <th style="text-align:center;width: 31%;" colspan="3"> Pronostico</th>
                        <th style="text-align:left" > Equipo Visitante </th>
                        <th style="text-align:center"> Resultado </th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr ng-repeat="match in currentFixture.matches | orderBy: 'id'" align="center" class="match"  ng-class="{'active': match.is_finished }" >
                          <td align="right" style="width:25%">
                            {{ match.local_team.name }} 
                            <img src="http://localhost:8000{{ match.local_team.crest }}" style="height: 20px;margin-left:5px;" />
                          </td>
                          <td ng-show="selectedGame.classic" style="width: 82px">
                            <label class="ui-radio">
                              <input name="{{ match.local_team }}_{{ match.visitor_team}} " type="radio" value="local" ng-disabled="currentFixture.is_finished">
                              <span popover-trigger="mouseenter" popover="Gana {{ match.local_team.name }}" ng-if="!match.is_finished">L</span>
                              <span ng-if="match.is_finished">L</span>
                            </label>
                          </td>
                          <td ng-show="selectedGame.classic" style="width: 82px">
                            <label class="ui-radio">
                              <input name="{{ match.local_team }}_{{ match.visitor_team}} " type="radio" value="draw" ng-disabled="currentFixture.is_finished">
                              <span popover-trigger="mouseenter" popover="Empatan" ng-if="!match.is_finished">E</span>
                              <span ng-if="match.is_finished">E</span>
                            </label>
                          </td>
                          <td ng-show="selectedGame.classic" style="width: 82px">
                            <label class="ui-radio">
                              <input name="{{ match.local_team }}_{{ match.visitor_team}} " type="radio" value="visitor" ng-disabled="currentFixture.is_finished">
                              <span popover-trigger="mouseenter" popover="Gana {{ match.visitor_team.name }}" ng-if="!match.is_finished">V</span>
                              <span ng-if="match.is_finished">V</span>
                            </label>
                          </td>
                          <td ng-hide="selectedGame.classic">
                                <select style="width: 50px;" ng-disabled="currentFixture.is_finished">
                                    <option>0</option>
                                    <option>1</option>
                                    <option>2</option>
                                    <option>3</option>
                                    <option>4</option>
                                    <option>5</option>
                                    <option>6</option>
                                    <option>7</option>
                                    <option>8</option>
                                    <option>9</option>
                                </select>
                          </td>
                          <td  ng-hide="selectedGame.classic" style="color:green">vs</td>
                          <td  ng-hide="selectedGame.classic">
                                <select style="width: 50px;"  ng-disabled="currentFixture.is_finished">
                                    <option>0</option>
                                    <option>1</option>
                                    <option>2</option>
                                    <option>3</option>
                                    <option>4</option>
                                    <option>5</option>
                                    <option>6</option>
                                    <option>7</option>
                                    <option>8</option>
                                    <option>9</option>
                                </select>
                          </td>
                          <td align="left"  style="width:25%">
                            <img src="http://localhost:8000{{ match.visitor_team.crest }}" style="height: 20px;margin-right:5px;" />
                            {{ match.visitor_team.name }}  
                          </td>
                          <td>
                              <span ng-show="match.is_finished" 
                                    class="label label-primary match-outcome" 
                                    popover-trigger="mouseenter" popover="Gano {{ match.winner }}" 
                                    ng-if="match.winner">
                                      {{ match.local_team_goals }} : {{ match.visitor_team_goals }}
                              </span>

                              <span ng-show="match.is_finished" 
                                    class="label label-primary match-outcome" 
                                    popover-trigger="mouseenter" popover="Empataron" 
                                    ng-if="!match.winner">
                                      {{ match.local_team_goals }} : {{ match.visitor_team_goals }}
                              </span>
                          </td>
                      </tr>
                    </tbody>
                </table>
              </div>
            </section>
        </div>
    </div>
</div>
